{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Bienvenido a cosas de Tryton En esta documentaci\u00f3n se trata de aclarar el funcionamiento de los m\u00f3dulos de Tryton 6x Enlaces \u00fatiles. Pagina oficial de Tryton . Foro Tryton Podemos probar tryton en este enlace Demo Tryton poner usuario demo_es . Que es tryton podemos ver el funcionamiento del mismo en el siguiente enlace Youtube Kopen Primeros pasos . Procesos de fabricaci\u00f3n en Tryton Youtube Kopen Proceso fabricaci\u00f3n en Tryton .","title":"Home"},{"location":"#bienvenido-a-cosas-de-tryton","text":"En esta documentaci\u00f3n se trata de aclarar el funcionamiento de los m\u00f3dulos de Tryton 6x","title":"Bienvenido a cosas de Tryton"},{"location":"#enlaces-utiles","text":"Pagina oficial de Tryton . Foro Tryton Podemos probar tryton en este enlace Demo Tryton poner usuario demo_es . Que es tryton podemos ver el funcionamiento del mismo en el siguiente enlace Youtube Kopen Primeros pasos . Procesos de fabricaci\u00f3n en Tryton Youtube Kopen Proceso fabricaci\u00f3n en Tryton .","title":"Enlaces \u00fatiles."},{"location":"ConfiguracionInicialTryton/","text":"Con los contenedores de Docker en run ya podemos conectarnos al servidor mediante la IP y el puerto 8000. Inmediatamente Tryton comienza el asistente de la instalaci\u00f3n. Instalamos lo m\u00f3dulos Configuramos ojo creamos la Moneda el factor de redondeo 0.01 digitos 2 Es probable que si no instalamos los pa\u00edses con sus provincias al importar los terceros nos puede dar error al intentar ligar con la base de datos. Una vez Instalado los contenedores podemos instalar los paises con el siguiente comando. docker exec --interactive --tty tryton /entrypoint.sh python3 -m trytond.modules.country.scripts.import_countries -d tryton Tambi\u00e9n hay que cargar los idiomas por ejemplo Spanish para poder asignar a los usuarios su idioma regional. Para ello en Administration>Users>Localization>Languages Buscamos el idioma Clikamos y ejecutamos el translation quiz\u00e1s para poder seleccionar el nuevo lenguaje hay que logearse con el usuario en cuesti\u00f3n y el el menu Administration>User seleccionamos nuestro propio usuario y en la pesta\u00f1a Preferences abrimos el list Languajes y selecionamos Spanish. La moneda la podemos instalar a mano ya que solo usamos euros. Despues de editar hay que iniciar los periodos Fiscal years. Para ello tenemos que asignar un nombre al periodo un d\u00eda de inicio y final 1 de enero y 31 de diciembre En la pesta\u00f1a Secuences hay que crear Post Move Secuence, Supplier Invoice Sequence, Supplier Credit Note Sequence, Customer Invoice Sequence, Customer Credit Note Sequence. Una vez creadas estas secuencias se nos mostrar\u00e1n en Administration > Secuences Secuences Strict Aqui podemos personalizar el n\u00famero que nos da a las facturas emitidas. Posteriormente a iniciar los periodos ejecutar el asistente para incorporar el plan general. Notas en Moneda el factor de redondeo 0.01 digitos 2 En >User Interface > Actions > Reports Podemos descargar y subir los modelos de OpenOffice. Importante cuando generamos una factura consolildada el modelo report usado en ese momento se congela para esa factura consolidada. Esto quiere decir que al cambiar el report invoice solo se aplicara a nuevas facturas. En >Administracion > Secuences> Customer Secuence y Suplier Secuence definir los n\u00fameros para empezar las facturas.","title":"Configuraci\u00f3n Inicial Tryton"},{"location":"DOCKER/","text":"En caso de que se pare el servidor de Tryton en Docker hay que saber como arrancarlo: Que pasa en caso de re-arranque del servidor Tryton. Pues que tenemos que arrancar los container de docker que estan inactivos. Primero el contenedor de postgre con el comando docker start \u201ccontainer ID\u201d y lo mismo para el container de tryton. Para Ver el estado de Docker . docker images = Muestra las imagenes disponibles. Docker ps = Muestra los contenedores. Docker Start = Arranca los contenedores en caso de que se paren. Con este comando entramos en el contenedor de postgres >> docker exec -it tryton-postgres psql -U postgres En caso de que la caguemos y tengamos que reiniciar la base de datos borramos los contenedores con el comando Docker rm y el n\u00famero ID del contenedor y volvemos a ejecutar los 3 comandos de Docker vistos en Instalar Tryton con Docker. Sera mas r\u00e1pido ya que las imagenes ya estan instaladas en el servidor. Con esto empezaremos de 0 Para hacer la copia de seguridad sudo docker stop tryton $ sudo docker exec tryton-postgres pg_dump -C -c -U postgres -O tryton >tryton-backup.sql $ sudo docker start tryton Una vez echo el Backup se guarda en el directorio en el cual hemos ejecutado Si tienes Tryton ejecutandose en un ordenador remoto, el comando para pasar el fichero que esta en el servidor remoto a nuestro ordenador local es el siguiente comando: scp debian@MiServidorRemoto.com:/home/debian/tryton-backup.sql . Ojo el \u00faltimo punto de la instrucci\u00f3n es necesario Nos pedira la contrase\u00f1a de acceso al ordenador remoto MiContrase\u00f1aDeServidorRemoto En ese momento la copia de seguridad del ordenador remoto bajara al directorio donde ejecutemos el comando. Para entrar dentro de Docker como usuario ROOT simplemente ejecutamos docker exec -it -u root IDCONTENEDOR /bin/bash no pide contrase\u00f1a","title":"Copias Seguridad y rearranque Docker"},{"location":"Empleado/","text":"SISTENCIA EMPLEADO. ATTENDANCE EMPLOYER Para crear un nuevo empleado con la opci\u00f3n de logerse y poder fichar la presencia en el trabajo. 1- Creamos el empleado como tercero. 2- Asignamos este tercero como empleado en empresas nuevo empleado 3- Administration / Users creamos un nuevo usuario de Login y en la parte inferior lo ligamos con la empresa y con el empleado. Asignamos la contrase\u00f1a. Funcionamiento a nivel de empleado. Configurar usuarios con menos privilegios I have the same problem. I have tried several ways and finally I have done the following: first I created a User only to used to attendance application. For that, we register a new login user and assign it to a new party (Employer) with the same name. When you login on user you have a generic tree of icons that you can see. This is because some items in the tree do not have a group assigned, and that is what a new user can see (not group assigned then you can see the icon with user without privileges) . Second I need to clear items tree to the user. So I create a group in >Administration > User > Groups called for example \u201cstandard user\u201d I go to \u201cUser Interface\u201d > Menu and selecting the initial icons of the tree Party, product etc. and change to empty group to the new created group \u201cStandard User\u201d. Once all items the items without group are assigned to \u201cStandard User\u201d the user without group, have an empty session without an item tree. Third I need assigned to user attendance icon I create a new group to manage the access to my user for that I duplicate Shift+Crtl+D the group (attendance administration) group and name the new group like as (employer attendance) I assign in Administration > User > Users the new user to the group created (employer attendance). Also I need to assigned on Administration > User Interface > Menu Icon attendance to (group attendance employer) Now have two groups (Employer Attendance) and ((Employer)*see first point) Now, the user only sees the Attendance icon in the tree but because we duplicate the attendance administrator group profile, the user have the configuration option on the tree. To remove this privilege I go to Administration > User > Groups and I select the new group created (attendance employer) group and in the tab [Access Menu] tab I remove the configuration icon Attendance/configuration. Now everything seems ok I have a user who only sees the attendance icon when login, but, I have a problem. The user also sees other parties and if he clicks on the party, he accesses the information of the party, address, telephone, etc. To limit access to third-party information I go to Administration > User > Groups and click to the new group employer attendance and on the [access permissions] tab and sub-tab [access models] I have added the party model with the read box unchecked. Save and now, the user sees the lines of the other users but, when clicking on the party it does not show information about it. I don`t now if is correct because I rookie on Tryton but works for me. Be caution not applied groups with less privileges to ADMIN USER","title":"Empleado"},{"location":"InstalarTryton_con_Docker/","text":"I am starting to experiment with the docker image. While I am doing so, I will write step-by-step instructions. I have no previous experience of Docker and little knowledge of Tryton, so I will need help. The following is a starting point. Would you like me to put this somewhere official? Como usar la imagen de Docker Tryton para instalar un servidor de Tryton Pagina oficial para de como instalar Tryton con Docker Previamente hay que tener instalado Docker en el ordenador. Descargamos la imagen de Tryton sudo docker pull tryton/tryton con sudo \u201cStart a PostgreSQL instance\u201d sudo docker run --name tryton-postgres -e POSTGRES_PASSWORD=mysecretpassword -e POSTGRES_DB=tryton -d postgres \u201cSetup the database\u201d sudo docker run --link tryton-postgres:postgres -it tryton/tryton trytond-admin -d tryton --all Ejecutando la preparacion de la base de datos nos pide el mail y la contrase\u00f1a: \u25e6 \"admin\" email for \"tryton\": your_email@blah.com \u25e6 \u201cadmin\u201d password for \u201ctryton\u201d: a_strong_password Arrancamos Tryton sudo docker run --name tryton -p 8000:8000 --link tryton-postgres:postgres -d tryton/tryton Podemos conectarnos en este punto a Tryton http://localhost:8000/ \u2022 No muestra un cuadro de entrada a Tryton en el Navegador \u25e6 Database: tryton \u25e6 User name: admin \u25e6 Pulsar login \u2022 Nos pide la password. \u2022 Metemos la password introduccida en la creacion de la base de datos. Arrancar a Tryton cron instance No tengo claro para que sirve este arranque ya que parece que sin el funciona Tryton This is the dedicate cron part of the server (http://manpages.ubuntu.com/manpages/bionic/man1/trytond-cron.1.html). sudo docker run --name tryton-cron --link tryton-postgres:postgres -d tryton/tryton trytond-cron -d Arrancando los contenedores Docker despues de un rearranque del ordenador. Con el comando ls vemos los contenedores Docker: sudo docker container ls --all OR sudo docker ps --all Para arrancar Tryton necesitamos arrancar los 3 contenedores asociados a el: sudo docker start tryton-postgres tryton tryton-cron El orden es importante primero arranca el servidor Postgres luego el servidor Tryton y por \u00faltimo Cron. Resumen de los comandos usados para crear nuestro servidor Tryton con Docker sudo docker pull tryton/tryton sudo docker run --name tryton-postgres -e POSTGRES_PASSWORD=xxxxxxx -e POSTGRES_DB=tryton -d postgres sudo docker run --link tryton-postgres:postgres -e DB_PASSWORD=xxxxxxx -it tryton/tryton trytond-admin -d tryton \u2013all sudo docker run --name tryton -p 8000:8000 --link tryton-postgres:postgres -e DB_PASSWORD=xxxxxxx -d tryton/tryton Ya te puedes conectar a Tryton en este punto sudo docker run --name tryton-cron --link tryton-postgres:postgres -d tryton/tryton trytond-cron -d tryton","title":"Instalar Tryton con Docker"},{"location":"InstalarTryton_con_Docker/#como-usar-la-imagen-de-docker-tryton-para-instalar-un-servidor-de-tryton","text":"Pagina oficial para de como instalar Tryton con Docker Previamente hay que tener instalado Docker en el ordenador. Descargamos la imagen de Tryton sudo docker pull tryton/tryton con sudo \u201cStart a PostgreSQL instance\u201d sudo docker run --name tryton-postgres -e POSTGRES_PASSWORD=mysecretpassword -e POSTGRES_DB=tryton -d postgres \u201cSetup the database\u201d sudo docker run --link tryton-postgres:postgres -it tryton/tryton trytond-admin -d tryton --all Ejecutando la preparacion de la base de datos nos pide el mail y la contrase\u00f1a: \u25e6 \"admin\" email for \"tryton\": your_email@blah.com \u25e6 \u201cadmin\u201d password for \u201ctryton\u201d: a_strong_password Arrancamos Tryton sudo docker run --name tryton -p 8000:8000 --link tryton-postgres:postgres -d tryton/tryton Podemos conectarnos en este punto a Tryton http://localhost:8000/ \u2022 No muestra un cuadro de entrada a Tryton en el Navegador \u25e6 Database: tryton \u25e6 User name: admin \u25e6 Pulsar login \u2022 Nos pide la password. \u2022 Metemos la password introduccida en la creacion de la base de datos. Arrancar a Tryton cron instance No tengo claro para que sirve este arranque ya que parece que sin el funciona Tryton This is the dedicate cron part of the server (http://manpages.ubuntu.com/manpages/bionic/man1/trytond-cron.1.html). sudo docker run --name tryton-cron --link tryton-postgres:postgres -d tryton/tryton trytond-cron -d Arrancando los contenedores Docker despues de un rearranque del ordenador. Con el comando ls vemos los contenedores Docker: sudo docker container ls --all OR sudo docker ps --all Para arrancar Tryton necesitamos arrancar los 3 contenedores asociados a el: sudo docker start tryton-postgres tryton tryton-cron El orden es importante primero arranca el servidor Postgres luego el servidor Tryton y por \u00faltimo Cron.","title":"Como usar la imagen de Docker Tryton para instalar un servidor de Tryton"},{"location":"InstalarTryton_con_Docker/#resumen-de-los-comandos-usados-para-crear-nuestro-servidor-tryton-con-docker","text":"sudo docker pull tryton/tryton sudo docker run --name tryton-postgres -e POSTGRES_PASSWORD=xxxxxxx -e POSTGRES_DB=tryton -d postgres sudo docker run --link tryton-postgres:postgres -e DB_PASSWORD=xxxxxxx -it tryton/tryton trytond-admin -d tryton \u2013all sudo docker run --name tryton -p 8000:8000 --link tryton-postgres:postgres -e DB_PASSWORD=xxxxxxx -d tryton/tryton Ya te puedes conectar a Tryton en este punto sudo docker run --name tryton-cron --link tryton-postgres:postgres -d tryton/tryton trytond-cron -d tryton","title":"Resumen de los comandos usados para crear nuestro servidor Tryton con Docker"},{"location":"Mail/","text":"Para poder configurar que la plataforma Tryton nos envi\u00e9 mails hay que editar el fichero trytond.conf y a\u00f1adir entre las etiquetas de mail la instrucci\u00f3n uri con los par\u00e1metros de conexi\u00f3n y la contrase\u00f1a del mail a usar. Para verificar si funciona hay que rearrancar el servidor y reiniciar el navegador de la aplicaci\u00f3n. Ambas cosas. [email] uri = smtp+tls://tryton@MiServidorCorreo.com:Contrase\u00f1aDeLaCuentaCorreo@mail.MiServidorCorreo.com:465 from = tryton@MiServidorCorreo.com [email] uri = smtp+tls://<username>:<password>@<your_fqdn_server>:587 from = <address>@<domain.ext>","title":"Configurar el envio de Mails en Tryton"},{"location":"PlantillaFacturas/","text":"Como editar la plantilla de factura sacado de Google He personalizado el contenido de la plantilla de las facturas de la siguiente forma: Descargo la plantilla creada por defecto: Cliente GTK de Tryton -> Administraci\u00f3n \u2192 Interficie del usuario \u2192 Acciones \u2192 Informes \u2192 Factura \u2192 Guardar como... La personalizo a mi gusto: Subo la plantilla personalizada a la base de datos: Cliente GTK de Tryton -> Administraci\u00f3n \u2192 Interficie del usuario \u2192 Acciones \u2192 Informes \u2192 Factura \u2192 Seleccionar un archivo... \u2192 selecciono el .odt personalizado \u2192 Guardar. Para las importaciones hay que tener en cuenta que seg\u00fan que campos queramos importar nos pedira adicionales. La importaci\u00f3n m\u00ednima sin categoria es Nombre, precio venta Precio Coste Activo, Und por Defecto, und de Venta, und de compra Tipo Puede Ser Goods (Bienes) Service (Servicios) Asset ( Bienes). El encabezado de la importaci\u00f3n tiene que estar en el idioma del programa.","title":"Plantilla facturas"},{"location":"PlantillaFacturas/#como-editar-la-plantilla-de-factura-sacado-de-google","text":"He personalizado el contenido de la plantilla de las facturas de la siguiente forma: Descargo la plantilla creada por defecto: Cliente GTK de Tryton -> Administraci\u00f3n \u2192 Interficie del usuario \u2192 Acciones \u2192 Informes \u2192 Factura \u2192 Guardar como... La personalizo a mi gusto: Subo la plantilla personalizada a la base de datos: Cliente GTK de Tryton -> Administraci\u00f3n \u2192 Interficie del usuario \u2192 Acciones \u2192 Informes \u2192 Factura \u2192 Seleccionar un archivo... \u2192 selecciono el .odt personalizado \u2192 Guardar. Para las importaciones hay que tener en cuenta que seg\u00fan que campos queramos importar nos pedira adicionales. La importaci\u00f3n m\u00ednima sin categoria es Nombre, precio venta Precio Coste Activo, Und por Defecto, und de Venta, und de compra Tipo Puede Ser Goods (Bienes) Service (Servicios) Asset ( Bienes). El encabezado de la importaci\u00f3n tiene que estar en el idioma del programa.","title":"Como editar la plantilla de factura sacado de Google"},{"location":"Servidor_nginx_cerbot_https/","text":"Servidor HTTPS para acceder a Tryton desde Internet. Instalar Nginx Lo primero que hemos hecho ha sido instalar Nginx que es super f\u00e1cil porque ya viene por defecto en la mayor\u00ed\u00ada de distribuciones Linux. En la mayor\u00ed\u00ada de distribuciones basadas en Debian lo haremos con el siguiente comando(Primero hacemos un 'update' para actualizar la lista de paquetes): Actualizamos lista de paquetes apt-get update Instalamos Nginx apt-get install -y nginx Una vez instalamos hemos arrancado el servicio para comprobar que estaba funcionando: service nginx start Despu\u00e9s hemos parado el servicio porque con el servicio Nginx corriendo no podr\u00ed\u00adamos contratar el certificado de seguridad: service nginx stop Contratar el certificado de seguridad SSL con Let's encrypt Para contratar el certificado de seguridad primero deberemos instalar \"certbot\" que es la herramienta para gestionar los certificados de seguridad (Esta herramienta tambi\u00e9n viene por defecto en la mayor\u00ed\u00ada de distribuciones Linux): apt-get install -y certbot Y ahora que ya tenemos la herramienta instalada podemos solicitar el certificado con un solo comando y sin que se nos pida nada adicional (Ideal para automatizar procesos de devops): certbot certonly \\ -d midominio.com \\ --noninteractive \\ --standalone \\ --agree-tos \\ --register-unsafely-without-email Como se comenta en el v\u00ed\u00addeo, certbot permite varios m\u00e9todos para pedir el certificado, en nuestro caso vamos a usar --standalone que b\u00e1sicamente crear un servidor web interno para validar el dominio (Ese es el motivo por el que no podemos tener arrancado Nginx). Tambi\u00e9n le ponemos le activamos el modo no interactivo y le configuramos todo lo que nos va a pedir el script por defecto. De esta manera podemos usar este script para automatizar procesos de aprovisionamiento. Configurar Nginx Ahora que ya tenemos nuestros certificados ya podemos configurarlos donde sea, en este caso, en un servidor Nginx. Para ellos modificamos el fichero '/etc/nginx/sites-available/default' que contiene el 'site' por defecto en Nginx: server { listen 80 default_server; return 301 https://$host$request_uri; } server { listen 443 ssl; ssl_certificate /etc/letsencrypt/live/test2.albertcoronado.com/fullchain.pem; ssl_certificate_key /etc/letsencrypt/live/test2.albertcoronado.com/privkey.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers HIGH:!aNULL:!MD5; root /var/www/html; index index.html index.htm index.nginx-debian.html; location / { try_files $uri $uri/ =404; } } Aqu\u00ed\u00ad, b\u00e1sicamente lo que hacemos en configurar para que todas las llamadas por el puerto 80(http) sean redirigidas al puerto 443(https). El puerto 443, queda configurado como estaba el puerto 80 por defecto pero a\u00ed\u00b1adiendo las l\u00ed\u00adneas que configuran el certificado SSL. Acordaos que cada vez que hac\u00e9is cambios en este archivo hay que reiniciar el servicio de Nginx. Renovar los certificados de Let's Encrypt Los certificados de Let's Encrypt caducan cada seis meses, para renovarlos solo hay que ejecutar el siguiente comando: sudo certbot renew OJO previamente tenemos que tener el servidor parado por lo cual sudo systemctl stop nginx Recordad que se debe ejecutar este comando con el Nginx parado para que \"certbot\" pueda validar que realmente el dominio es vuestro. sudo certbot certonly \\ -d *******mydominio.com \\ --noninteractive \\ --standalone \\ --agree-tos \\ --register-unsafely-without-email - Texto a cargar en el fichero default de nginx server { listen 80 default_server; return 301 https://$host$request_uri; } server { listen 443 ssl; ssl_certificate /etc/letsencrypt/live/tryton.rdiautomatizacion.com/fullchain.pem; ssl_certificate_key /etc/letsencrypt/live/tryton.rdiautomatizacion.com/privkey.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers HIGH:!aNULL:!MD5; # root /var/www/html; # index index.html index.htm index.nginx-debian.html; # location / { # try_files $uri $uri/ =404; # } location / { proxy_pass http://127.0.0.1:8000; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $host; } }","title":"Servidor HTTPS"},{"location":"Servidor_nginx_cerbot_https/#servidor-https-para-acceder-a-tryton-desde-internet","text":"","title":"Servidor HTTPS para acceder a Tryton desde Internet."},{"location":"Servidor_nginx_cerbot_https/#instalar-nginx","text":"Lo primero que hemos hecho ha sido instalar Nginx que es super f\u00e1cil porque ya viene por defecto en la mayor\u00ed\u00ada de distribuciones Linux. En la mayor\u00ed\u00ada de distribuciones basadas en Debian lo haremos con el siguiente comando(Primero hacemos un 'update' para actualizar la lista de paquetes):","title":"Instalar Nginx"},{"location":"Servidor_nginx_cerbot_https/#actualizamos-lista-de-paquetes","text":"apt-get update","title":"Actualizamos lista de paquetes"},{"location":"Servidor_nginx_cerbot_https/#instalamos-nginx","text":"apt-get install -y nginx Una vez instalamos hemos arrancado el servicio para comprobar que estaba funcionando: service nginx start Despu\u00e9s hemos parado el servicio porque con el servicio Nginx corriendo no podr\u00ed\u00adamos contratar el certificado de seguridad: service nginx stop Contratar el certificado de seguridad SSL con Let's encrypt Para contratar el certificado de seguridad primero deberemos instalar \"certbot\" que es la herramienta para gestionar los certificados de seguridad (Esta herramienta tambi\u00e9n viene por defecto en la mayor\u00ed\u00ada de distribuciones Linux): apt-get install -y certbot Y ahora que ya tenemos la herramienta instalada podemos solicitar el certificado con un solo comando y sin que se nos pida nada adicional (Ideal para automatizar procesos de devops): certbot certonly \\ -d midominio.com \\ --noninteractive \\ --standalone \\ --agree-tos \\ --register-unsafely-without-email Como se comenta en el v\u00ed\u00addeo, certbot permite varios m\u00e9todos para pedir el certificado, en nuestro caso vamos a usar --standalone que b\u00e1sicamente crear un servidor web interno para validar el dominio (Ese es el motivo por el que no podemos tener arrancado Nginx). Tambi\u00e9n le ponemos le activamos el modo no interactivo y le configuramos todo lo que nos va a pedir el script por defecto. De esta manera podemos usar este script para automatizar procesos de aprovisionamiento.","title":"Instalamos Nginx"},{"location":"Servidor_nginx_cerbot_https/#configurar-nginx","text":"Ahora que ya tenemos nuestros certificados ya podemos configurarlos donde sea, en este caso, en un servidor Nginx. Para ellos modificamos el fichero '/etc/nginx/sites-available/default' que contiene el 'site' por defecto en Nginx: server { listen 80 default_server; return 301 https://$host$request_uri; } server { listen 443 ssl; ssl_certificate /etc/letsencrypt/live/test2.albertcoronado.com/fullchain.pem; ssl_certificate_key /etc/letsencrypt/live/test2.albertcoronado.com/privkey.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers HIGH:!aNULL:!MD5; root /var/www/html; index index.html index.htm index.nginx-debian.html; location / { try_files $uri $uri/ =404; } } Aqu\u00ed\u00ad, b\u00e1sicamente lo que hacemos en configurar para que todas las llamadas por el puerto 80(http) sean redirigidas al puerto 443(https). El puerto 443, queda configurado como estaba el puerto 80 por defecto pero a\u00ed\u00b1adiendo las l\u00ed\u00adneas que configuran el certificado SSL. Acordaos que cada vez que hac\u00e9is cambios en este archivo hay que reiniciar el servicio de Nginx.","title":"Configurar Nginx"},{"location":"Servidor_nginx_cerbot_https/#renovar-los-certificados-de-lets-encrypt","text":"Los certificados de Let's Encrypt caducan cada seis meses, para renovarlos solo hay que ejecutar el siguiente comando: sudo certbot renew OJO previamente tenemos que tener el servidor parado por lo cual sudo systemctl stop nginx Recordad que se debe ejecutar este comando con el Nginx parado para que \"certbot\" pueda validar que realmente el dominio es vuestro. sudo certbot certonly \\ -d *******mydominio.com \\ --noninteractive \\ --standalone \\ --agree-tos \\ --register-unsafely-without-email - Texto a cargar en el fichero default de nginx server { listen 80 default_server; return 301 https://$host$request_uri; } server { listen 443 ssl; ssl_certificate /etc/letsencrypt/live/tryton.rdiautomatizacion.com/fullchain.pem; ssl_certificate_key /etc/letsencrypt/live/tryton.rdiautomatizacion.com/privkey.pem; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers HIGH:!aNULL:!MD5; # root /var/www/html; # index index.html index.htm index.nginx-debian.html; # location / { # try_files $uri $uri/ =404; # } location / { proxy_pass http://127.0.0.1:8000; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $host; } }","title":"Renovar los certificados de Let's Encrypt"},{"location":"proyectos/","text":"Proyectos en Tryton Tryton Versi\u00f3n 6.x Funcionamiento del m\u00f3dulo de Proyecto. Explicaci\u00f3n en la p\u00e1gina oficial del modulo Proyecto Primero tenemos que tener instalado el m\u00f3dulo. El m\u00f3dulo proyecto nos permite relacionar las tareas con los partes de trabajo timesheet module Podemos crear partes de trabajo (Timesheet) sin usar el m\u00f3dulo proyecto, pero idealmente lo haremos desde la opci\u00f3n de proyecto. Usamos el m\u00f3dulo proyecto ya que de esta manera podemos controlar subtareas y controlar costes de materiales. Proyectos: Proyectos >Configuraci\u00f3n >Arbol de proyectos y tareas # En este apartado nos da una visi\u00f3n general de todos los proyectos y sus caracteristicas >Proyectos y tareas # En este apartado nos muestra todos los proyectos y tareas >Estado del trabajo >Proyectos # En este apartado nos da una visi\u00f3n general de todos los proyectos y sus caracteristicas >Tareas >Informes >Arbol de proyectos y tareas # Como primer paso ejecutamos crear en [Proyectos > Arbol de proyectos] y tareas un nuevo proyecto. Asignamos el Nombre y el Tipo que puede ser proyecto o tarea en principio Elegimos ''proyecto'', la empresa ya estar\u00e1 rellenada, en tercero podemos seleccionar o no un cliente al cual facturaremos. Seguidamente en la pesta\u00f1a Hijos Vamos a\u00f1adiendo tareas poniendo un nombre y activando la casilla de [Hoja de Trabajo] [x] de este modo las l\u00edneas de tareas que creemos se ir\u00e1n a\u00f1adiendo en el m\u00f3dulo Partes de trabajo (Timesheet) automaticamente. Nota Las tareas no se pueden asignar a un cliente, los proyectos si. Si queremos asignar gastos de material a los proyectos es necesario coger los datos de las peticiones de compras no se puede de las facturas de compra. Una vez creamos las tareas dentro del proyecto estas estar\u00e1n disponibles en el m\u00f3dulo (Timesheet) Partes de trabajo. Podemos visualizarlo en Partes de trabajo > Configuraci\u00f3n > Trabajos. Ejemplo: Creamos un proyecto y dejamos los campos sin rellenar a excepci\u00f3n de el nombre del proyecto y en Tipo especificar proyecto. Inmediatamente creamos los procesos Hijos que es realmente lo que podemos facturar. Los hijos los creamos como tareas. Rellenamos el esfuerzo estimado para la tarea en tiempo Horas:Minutos:Segundos En la ventana trabajo asociamos con un item de trabajo el cual podemos crear en el momento y el cual le volcaremos las horas a trav\u00e9s del men\u00fa en el arbolPartes de trabajo > A\u00f1adir parte de trabajo. En el campo producto le asociamos un producto que podemos crear en el momento al cual le damos un valor por unidad por Ejem 25\u20ac unidad con lo cual el importe a facturar por la tarea acabada es el esfuerzo en horas multiplicado por el valor del producto. Nota El producto que asociemos a la tarea tiene que ser de tipo servicio si no dara error de campo de dominio no corresponde. Importante En el producto la unidad de medida tienen que ser HORAs no unidades. Por ejemplo esfuerzo estimado 20 horas x ((Valor producto) Horas de dise\u00f1o a 60\u20ac hora) el importe a facturar es 1200\u20ac. Ojo tenemos que tener en la pesta\u00f1a General del Proyecto principal el valor M\u00e9todo de facturaci\u00f3n por [Seg\u00fan proceso]. Cuando la tarea Hijo llegue al valor del 100% del progreso el bot\u00f3n Factura en la pesta\u00f1a General del proyecto principal se nos activara para poder Facturar.","title":"Proyectos"},{"location":"proyectos/#proyectos-en-tryton","text":"Tryton Versi\u00f3n 6.x Funcionamiento del m\u00f3dulo de Proyecto. Explicaci\u00f3n en la p\u00e1gina oficial del modulo Proyecto Primero tenemos que tener instalado el m\u00f3dulo. El m\u00f3dulo proyecto nos permite relacionar las tareas con los partes de trabajo timesheet module Podemos crear partes de trabajo (Timesheet) sin usar el m\u00f3dulo proyecto, pero idealmente lo haremos desde la opci\u00f3n de proyecto. Usamos el m\u00f3dulo proyecto ya que de esta manera podemos controlar subtareas y controlar costes de materiales.","title":"Proyectos en Tryton"},{"location":"proyectos/#proyectos","text":"Proyectos >Configuraci\u00f3n >Arbol de proyectos y tareas # En este apartado nos da una visi\u00f3n general de todos los proyectos y sus caracteristicas >Proyectos y tareas # En este apartado nos muestra todos los proyectos y tareas >Estado del trabajo >Proyectos # En este apartado nos da una visi\u00f3n general de todos los proyectos y sus caracteristicas >Tareas >Informes >Arbol de proyectos y tareas # Como primer paso ejecutamos crear en [Proyectos > Arbol de proyectos] y tareas un nuevo proyecto. Asignamos el Nombre y el Tipo que puede ser proyecto o tarea en principio Elegimos ''proyecto'', la empresa ya estar\u00e1 rellenada, en tercero podemos seleccionar o no un cliente al cual facturaremos. Seguidamente en la pesta\u00f1a Hijos Vamos a\u00f1adiendo tareas poniendo un nombre y activando la casilla de [Hoja de Trabajo] [x] de este modo las l\u00edneas de tareas que creemos se ir\u00e1n a\u00f1adiendo en el m\u00f3dulo Partes de trabajo (Timesheet) automaticamente. Nota Las tareas no se pueden asignar a un cliente, los proyectos si. Si queremos asignar gastos de material a los proyectos es necesario coger los datos de las peticiones de compras no se puede de las facturas de compra. Una vez creamos las tareas dentro del proyecto estas estar\u00e1n disponibles en el m\u00f3dulo (Timesheet) Partes de trabajo. Podemos visualizarlo en Partes de trabajo > Configuraci\u00f3n > Trabajos.","title":"Proyectos:"},{"location":"proyectos/#ejemplo","text":"Creamos un proyecto y dejamos los campos sin rellenar a excepci\u00f3n de el nombre del proyecto y en Tipo especificar proyecto. Inmediatamente creamos los procesos Hijos que es realmente lo que podemos facturar. Los hijos los creamos como tareas. Rellenamos el esfuerzo estimado para la tarea en tiempo Horas:Minutos:Segundos En la ventana trabajo asociamos con un item de trabajo el cual podemos crear en el momento y el cual le volcaremos las horas a trav\u00e9s del men\u00fa en el arbolPartes de trabajo > A\u00f1adir parte de trabajo. En el campo producto le asociamos un producto que podemos crear en el momento al cual le damos un valor por unidad por Ejem 25\u20ac unidad con lo cual el importe a facturar por la tarea acabada es el esfuerzo en horas multiplicado por el valor del producto. Nota El producto que asociemos a la tarea tiene que ser de tipo servicio si no dara error de campo de dominio no corresponde. Importante En el producto la unidad de medida tienen que ser HORAs no unidades. Por ejemplo esfuerzo estimado 20 horas x ((Valor producto) Horas de dise\u00f1o a 60\u20ac hora) el importe a facturar es 1200\u20ac. Ojo tenemos que tener en la pesta\u00f1a General del Proyecto principal el valor M\u00e9todo de facturaci\u00f3n por [Seg\u00fan proceso]. Cuando la tarea Hijo llegue al valor del 100% del progreso el bot\u00f3n Factura en la pesta\u00f1a General del proyecto principal se nos activara para poder Facturar.","title":"Ejemplo:"}]}